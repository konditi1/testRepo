{{define "create-post"}}
{{template "header" .}}
<section class="create-post-container">
    <div class="sidebar">
        <h3>Discover</h3>
        <div class="sidebar-links">
            <a href="#"><i class="fa-solid fa-spinner"></i>&emsp;Trending</a>
            <a href="#"><i class="fa-regular fa-clock"></i>&emsp;Latest</a>
            <a href="#"><i class="fa-regular fa-star"></i>&emsp;Top</a>
        </div>
        <h3>Categories</h3>
        <div class="side-categoies">
            {{range $category, $count := .Categories}}
                <a href="#"><i class="fa-solid fa-laptop-code"></i>&emsp;{{$category}}<span>{{$count}}</span></a>
            {{end}}
        </div>
    </div>
    <div class="posts">
        <h3>Create New Post</h3>
        <form action="/create-post" method="POST" enctype="multipart/form-data" class="post-form">
            <div class="form-group">
                <label for="category">Category:</label>
                <div class="dropdown">
                    <button type="button" class="dropdown-toggle" onclick="toggleDropdown()">
                        Select Categories <i class="fa-solid fa-chevron-down"></i>
                    </button>
                    <div id="category-dropdown" class="dropdown-content">
                        {{range .Categories}}
                        <div class="category-item">
                            <input type="checkbox" id="category-{{.}}" name="category[]" value="{{.}}">
                            <label for="category-{{.}}">{{.}}</label>
                        </div>
                        {{end}}
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" id="title" name="title" placeholder="Enter post title" required>
            </div>
            <div class="form-group">
                <label for="image">Upload Image:</label>
                <input type="file" id="image" name="image" accept="image/*">
            </div>
            <div class="form-group">
                <label for="content">Content:</label>
                <textarea id="content" name="content" placeholder="Write your post content" required></textarea>
            </div>
            <button type="submit" class="btn-submit">Create Post</button>
        </form>
    </div>
</section>
{{end}}